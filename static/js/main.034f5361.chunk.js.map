{"version":3,"sources":["components/grid-node.js","components/grid.js","algorithm.js","components/grid-canvas/index.jsx","app.js","serviceWorker.js","index.js"],"names":["GridNode","x","y","ctx","size","stroke","f","g","h","parent","undefined","walkable","this","fill","draw","Math","round","beginPath","lineWidth","strokeStyle","rect","color","fillStyle","fillRect","Grid","canvas","nodeSize","nodeStroke","w","gridNodes","startNode","endNode","i","j","addNode","find","node","gridNode","push","forEach","neighbours","node0","node1","node2","node3","node4","node5","node6","node7","getContext","getDistance","goalNode","distanceX","abs","distanceY","min","GridCanvas","props","width","height","gridCanvas","useRef","useState","grid","setGrid","startNodeLocation","setStartNodeLocation","endNodeLocation","setEndNodeLocation","clickReset","setClickReset","animationSpeed","setAnimationSpeed","canvasHeight","canvasWidth","resetGrid","current","newGrid","init","animatePath","path","timeoutIndex","newTimeoutIndex","setTimeout","Promise","resolve","clickFindPath","openList","closedList","currentNode","spliceIndex","length","splice","reverse","retracePath","getAdjacentNodes","closedListedNode","closedNode","newNodeCost","openListedNode","openedNode","findPath","openClosedList","sort","aNode","bNode","then","all","useEffect","useLayoutEffect","className","style","backgroundColor","padding","borderRadius","fontWeight","onClick","event","canvasLeft","offsetLeft","canvasTop","offsetTop","pageX","pageY","setStartNode","location","setEndNode","setWalkable","preventDefault","ref","id","type","name","for","checked","App","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.034f5361.chunk.js","sourcesContent":["export default class GridNode {\n  constructor(x, y, ctx, size, stroke, f = 0, g = 0, h = 0, parent = undefined, walkable = true) {\n    this.x = x\n    this.y = y\n    this.ctx = ctx\n    this.size = size\n    this.stroke = stroke\n    this.f = f\n    this.g = g\n    this.h = h\n    this.parent = parent\n    this.walkable = walkable\n  }\n\n  setWalkable(walkable) {\n    this.walkable = walkable\n    if (walkable) {\n      this.fill('white')\n      this.draw()\n    } else if (!walkable) {\n      this.fill('black')\n    }\n  }\n\n  location() {\n    const x = Math.round((this.x / this.size) + 1)\n    const y = Math.round((this.y / this.size) + 1)\n    return `${x}, ${y}`\n  }\n\n  draw() {\n    this.ctx.beginPath()\n    this.ctx.lineWidth = this.stroke\n    this.ctx.strokeStyle = 'gray'\n    this.ctx.rect(this.x, this.y, this.size, this.size)\n    this.ctx.stroke()\n  }\n\n  fill(color) {\n    this.ctx.beginPath()\n    this.ctx.fillStyle = color\n    this.ctx.fillRect(this.x, this.y, this.size, this.size)\n  }\n}\n","import GridNode from './grid-node.js'\n\nexport default class Grid {\n  constructor(canvas, nodeSize, nodeStroke, w, h, gridNodes = [], startNode = null, endNode = null) {\n    this.canvas = canvas\n    this.nodeSize = nodeSize\n    this.nodeStroke = nodeStroke\n    this.w = w\n    this.h = h\n    this.gridNodes = gridNodes\n    this.startNode = startNode\n    this.endNode = endNode\n  }\n\n  get ctx() {\n    if (this.canvas && this.canvas.getContext) {\n      return this.canvas.getContext('2d')\n    }\n    return null\n  }\n\n  init() {\n    let y = this.nodeStroke\n    for (let i = 0; i < this.h; i++) {\n      let x = this.nodeStroke\n      for (let j = 0; j < this.w; j++) {\n        this.addNode(x, y)\n        x += this.nodeSize\n      }\n      y += this.nodeSize\n    }\n  }\n\n  addNode(x, y) {\n    const existingNode = this.gridNodes.find(node => node.x === x && node.y === y)\n    if (!existingNode) {\n      const gridNode = new GridNode(x, y, this.ctx, this.nodeSize, this.nodeStroke)\n      this.gridNodes.push(gridNode)\n    }\n  }\n\n  draw() {\n    this.gridNodes.forEach((gridNode) => {\n      gridNode.fill('white')\n      gridNode.draw()\n    })\n  }\n\n  setStartNode(gridNode) {\n    this.startNode = gridNode\n    gridNode && gridNode.fill('blue')\n  }\n\n  setEndNode(gridNode) {\n    this.endNode = gridNode\n    gridNode && gridNode.fill('red')\n  }\n\n  getAdjacentNodes(gridNode) {\n    const neighbours = []\n    const node0 = this.gridNodes.find((node) => {\n      return node.x === gridNode.x && node.y === (gridNode.y - gridNode.size)\n    })\n    const node1 = this.gridNodes.find((node) => {\n      return node.x === gridNode.x && node.y === (gridNode.y + gridNode.size)\n    })\n    const node2 = this.gridNodes.find((node) => {\n      return node.x === (gridNode.x - gridNode.size) && node.y === gridNode.y \n    })\n    const node3 = this.gridNodes.find((node) => {\n      return node.x === (gridNode.x + gridNode.size) && node.y === gridNode.y\n    })\n    const node4 = this.gridNodes.find((node) => {\n      return node.x === (gridNode.x + gridNode.size) && node.y === (gridNode.y - gridNode.size)\n    })\n    const node5 = this.gridNodes.find((node) => {\n      return node.x === (gridNode.x - gridNode.size) && node.y === (gridNode.y - gridNode.size)\n    })\n    const node6 = this.gridNodes.find((node) => {\n      return node.x === (gridNode.x + gridNode.size) && node.y === (gridNode.y + gridNode.size)\n    })\n    const node7 = this.gridNodes.find((node) => {\n      return node.x === (gridNode.x - gridNode.size) && node.y === (gridNode.y + gridNode.size)\n    })\n  \n    node0 && neighbours.push(node0)\n    node1 && neighbours.push(node1)\n    node2 && neighbours.push(node2)\n    node3 && neighbours.push(node3)\n    node4 && neighbours.push(node4)\n    node5 && neighbours.push(node5)\n    node6 && neighbours.push(node6)\n    node7 && neighbours.push(node7)\n  \n    return neighbours\n  }\n}\n","function getDistance(node, goalNode) {\n  const diagonalCost = 1.4\n  const distanceX = Math.abs(node.x - goalNode.x)\n  const distanceY = Math.abs(node.y - goalNode.y)\n\n  return (distanceX + distanceY) + (diagonalCost - 2) * Math.min(distanceX, distanceY)\n}\n\nfunction retracePath(startNode, endNode) {\n  const path = []\n  let currentNode = endNode\n\n  while (currentNode !== startNode) {\n    path.push(currentNode)\n    currentNode = currentNode.parent\n  }\n  return path.reverse()\n}\n\nexport default function findPath(grid) {\n  const { startNode, endNode } = grid\n  let openList = []\n  let closedList = []\n\n  startNode.h = getDistance(startNode, endNode)\n  openList.push(startNode)\n\n  while (openList.length > 0) {\n    let currentNode = openList[0]\n    let spliceIndex = 0\n    for (let i = 0; i < openList.length; i++) {\n      if (openList[i].f <= currentNode.f && openList[i].h < currentNode.h) {\n        currentNode = openList[i]\n        spliceIndex = i\n      }\n    }\n    openList.splice(spliceIndex, 1)\n    closedList.push(currentNode)\n\n    if (currentNode === endNode) {\n      const path = retracePath(startNode, endNode)\n      return {\n        path, startNode, endNode, closedList, openList\n      }\n    }\n\n    const adjacentNodes = grid.getAdjacentNodes(currentNode)\n    adjacentNodes.forEach((node) => {\n      const closedListedNode = closedList.find(closedNode => closedNode === node)\n      if (node.walkable && !closedListedNode) {\n        const newNodeCost = currentNode.g + getDistance(currentNode, node)\n        const openListedNode = openList.find(openedNode => openedNode === node)\n        if (newNodeCost < node.g || !openListedNode) {\n          node.g = newNodeCost\n          node.h = getDistance(node, endNode)\n          node.parent = currentNode\n          if (!openListedNode) {\n            openList.push(node)\n          }\n        }\n      }\n    })\n  }\n}","import React, { useState, useEffect, useLayoutEffect, useRef } from 'react'\nimport Grid from '../grid'\nimport findPath from '../../algorithm'\nimport './grid-canvas.css'\n\nfunction GridCanvas(props) {\n  const { width, height, nodeSize, nodeStroke } = props\n  const gridCanvas = useRef()\n  const [grid, setGrid] = useState(new Grid())\n  const [startNodeLocation, setStartNodeLocation] = useState(null)\n  const [endNodeLocation, setEndNodeLocation] = useState(null)\n  const [clickReset, setClickReset] = useState(false)\n  const [animationSpeed, setAnimationSpeed] = useState(5)\n\n  const canvasHeight = (nodeSize * height) + (2 * nodeStroke)\n  const canvasWidth = (nodeSize * width) + (2 * nodeStroke)\n\n  const resetGrid = () => {\n    setClickReset(false)\n    setStartNodeLocation(null)\n    setEndNodeLocation(null)\n    const canvas = gridCanvas.current\n    const newGrid = new Grid(canvas, nodeSize, nodeStroke, width, height)\n    newGrid.init()\n    setGrid(newGrid)\n  }\n\n  const animatePath = (path, timeoutIndex, color) => {\n    let newTimeoutIndex = timeoutIndex\n    path.forEach((node) => {\n      newTimeoutIndex++\n      setTimeout(() => node.fill(color), (newTimeoutIndex * animationSpeed))\n    })\n    return Promise.resolve(newTimeoutIndex)\n  }\n\n  const clickFindPath = grid => {\n    let timeoutIndex = 0\n    const { path, openList, closedList, startNode, endNode } = findPath(grid)\n    const openClosedList = [...openList, ...closedList].sort((aNode, bNode) => {\n      if (aNode.f <= bNode.f && aNode.h <= bNode.h) {\n        return 1\n      }\n      return -1\n    })\n    animatePath(openClosedList, timeoutIndex, 'lightgreen')\n      .then(timeoutIndex => animatePath(path, timeoutIndex, 'green'))\n      .then(timeoutIndex => Promise.all([\n        animatePath([startNode], timeoutIndex, 'blue'),\n        animatePath([endNode], timeoutIndex, 'red')\n      ]))\n      .then(() => setClickReset(true))\n  }\n\n  useEffect(() => {\n    resetGrid()\n  }, [])\n\n  useLayoutEffect(() => {\n    grid.draw()\n  }, [grid])\n\n  const handleClick = (event) => {\n    if (clickReset) {\n      return resetGrid()\n    }\n    const canvas = gridCanvas.current\n    const canvasLeft = canvas.offsetLeft\n    const canvasTop = canvas.offsetTop\n\n    const x = event.pageX - canvasLeft\n    const y = event.pageY - canvasTop\n    const gridNode = grid.gridNodes.find((node) => {\n      return y > node.y && y < node.y + node.size && x > node.x && x < node.x + node.size\n    })\n    if (gridNode) {\n      if ((!grid.startNode && !grid.endNode)) {\n        grid.setStartNode(gridNode)\n        return setStartNodeLocation(gridNode.location())\n      } else if (grid.startNode && !grid.endNode) {\n        grid.setEndNode(gridNode)\n        return setEndNodeLocation(gridNode.location())\n      } else if (grid.startNode && grid.endNode) {\n        return gridNode.setWalkable(!gridNode.walkable)\n      }\n    }\n    return event.preventDefault()\n  }\n\n  const RenderHeaderText = () => {\n    if (!startNodeLocation) {\n      return <p>Click a node to set the <span style={{ color: 'blue', backgroundColor: 'azure', padding: '0 0.2rem', borderRadius: '0.2rem' }}>START</span> position.</p>\n    }\n    if (!endNodeLocation) {\n      return <p>Click a node to set the <span style={{ color: 'red', backgroundColor: 'azure', padding: '0 0.2rem', borderRadius: '0.2rem' }}>END</span> position.</p>\n    }\n    if (clickReset) {\n      return (\n        <p>Drawing shortest path from&nbsp;\n          <span style={{ color: 'blue', backgroundColor: 'azure', padding: '0 0.2rem', borderRadius: '0.2rem' }}>{startNodeLocation}</span> to&nbsp;\n          <span style={{ color: 'red', backgroundColor: 'azure', padding: '0 0.2rem', borderRadius: '0.2rem' }}>{endNodeLocation}</span>&nbsp;\n          <em style={{ color: 'lightgray', fontWeight: 300 }}>(Click anywhere to reset)</em>\n        </p>\n      )\n    }\n    return <p>Click nodes to create/remove <span style={{ color: 'black', backgroundColor: 'azure', padding: '0 0.2rem', borderRadius: '0.2rem' }}>WALL</span> obstacles.</p>\n  }\n\n  return (\n    <div className=\"grid-canvas\">\n      <div className=\"grid-canvas-header\">\n        <RenderHeaderText />\n      </div>\n      <canvas className=\"grid\" height={canvasHeight} width={canvasWidth} onClick={handleClick} ref={gridCanvas} />\n      <div className=\"grid-canvas-footer\">\n        <div className=\"grid-canvas-labels\">\n          <div id=\"start-node-label\">\n            {startNodeLocation\n              ? `Start Node: ${startNodeLocation}`\n              : 'Start node is not set. Click a node to set it.'\n            }\n          </div>\n          <div id=\"end-node-label\">\n            {endNodeLocation\n              ? `End Node: ${endNodeLocation}`\n              : 'End node is not set. Click a node to set it.'\n            }\n          </div>\n        </div>\n        <div className=\"grid-canvas-speed\">\n          <p>Animation speed:</p>\n          <div>\n            <input type=\"radio\" id=\"slow\" name=\"speed\" onClick={() => setAnimationSpeed(25)} />\n            <label for=\"slow\">Slow</label>\n          </div>\n          <div>\n            <input type=\"radio\" id=\"normal\" name=\"speed\" checked onClick={() => setAnimationSpeed(5)} />\n            <label for=\"normal\">Normal</label>\n          </div>\n          <div>\n            <input type=\"radio\" id=\"fast\" name=\"speed\" onClick={() => setAnimationSpeed(1)} />\n            <label for=\"fast\">Fast</label>\n          </div>\n        </div>\n        <div className=\"grid-canvas-controls\">\n          <button id=\"btn find-path\" type=\"button\" onClick={() => clickFindPath(grid)}>Find Path</button>\n          <button id=\"btn clear\" type=\"button\" onClick={() => resetGrid()}>Clear</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default GridCanvas\n","import React from 'react'\nimport GridCanvas from './components/grid-canvas'\nimport './app.css'\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <header className=\"app-header\">\n        <p>A* Search Algorithm</p>\n      </header>\n      <div className=\"grid-container\">\n        <GridCanvas\n          width={25}\n          height={25}\n          nodeSize={25}\n          nodeStroke={2}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}