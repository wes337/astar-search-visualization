(this["webpackJsonpreact-astar-pathfinder"]=this["webpackJsonpreact-astar-pathfinder"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(6),o=n.n(r),s=(n(12),n(4)),c=n(1),l=n(2),d=n(3),u=function(){function e(t,n,i,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0,u=!(arguments.length>9&&void 0!==arguments[9])||arguments[9];Object(l.a)(this,e),this.x=t,this.y=n,this.ctx=i,this.size=a,this.stroke=r,this.f=o,this.g=s,this.h=c,this.parent=d,this.walkable=u}return Object(d.a)(e,[{key:"setWalkable",value:function(e){this.walkable=e,e?(this.fill("white"),this.draw()):e||this.fill("black")}},{key:"location",value:function(){var e=Math.round(this.x/this.size+1),t=Math.round(this.y/this.size+1);return"".concat(e,", ").concat(t)}},{key:"draw",value:function(){this.ctx.beginPath(),this.ctx.lineWidth=this.stroke,this.ctx.strokeStyle="gray",this.ctx.rect(this.x,this.y,this.size,this.size),this.ctx.stroke()}},{key:"fill",value:function(e){this.ctx.beginPath(),this.ctx.fillStyle=e,this.ctx.fillRect(this.x,this.y,this.size,this.size)}}]),e}(),h=function(){function e(t,n,i,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(l.a)(this,e),this.canvas=t,this.nodeSize=n,this.nodeStroke=i,this.w=a,this.h=r,this.gridNodes=o,this.startNode=s,this.endNode=c}return Object(d.a)(e,[{key:"init",value:function(){for(var e=this.nodeStroke,t=0;t<this.h;t++){for(var n=this.nodeStroke,i=0;i<this.w;i++)this.addNode(n,e),n+=this.nodeSize;e+=this.nodeSize}}},{key:"addNode",value:function(e,t){if(!this.gridNodes.find((function(n){return n.x===e&&n.y===t}))){var n=new u(e,t,this.ctx,this.nodeSize,this.nodeStroke);this.gridNodes.push(n)}}},{key:"draw",value:function(){this.gridNodes.forEach((function(e){e.fill("white"),e.draw()}))}},{key:"setStartNode",value:function(e){this.startNode=e,e&&e.fill("blue")}},{key:"setEndNode",value:function(e){this.endNode=e,e&&e.fill("red")}},{key:"getAdjacentNodes",value:function(e){var t=[],n=this.gridNodes.find((function(t){return t.x===e.x&&t.y===e.y-e.size})),i=this.gridNodes.find((function(t){return t.x===e.x&&t.y===e.y+e.size})),a=this.gridNodes.find((function(t){return t.x===e.x-e.size&&t.y===e.y})),r=this.gridNodes.find((function(t){return t.x===e.x+e.size&&t.y===e.y})),o=this.gridNodes.find((function(t){return t.x===e.x+e.size&&t.y===e.y-e.size})),s=this.gridNodes.find((function(t){return t.x===e.x-e.size&&t.y===e.y-e.size})),c=this.gridNodes.find((function(t){return t.x===e.x+e.size&&t.y===e.y+e.size})),l=this.gridNodes.find((function(t){return t.x===e.x-e.size&&t.y===e.y+e.size}));return n&&t.push(n),i&&t.push(i),a&&t.push(a),r&&t.push(r),o&&t.push(o),s&&t.push(s),c&&t.push(c),l&&t.push(l),t}},{key:"ctx",get:function(){return this.canvas&&this.canvas.getContext?this.canvas.getContext("2d"):null}}]),e}();function f(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return n+i+(1.4-2)*Math.min(n,i)}n(13);var m=function(e){var t=e.width,n=e.height,r=e.nodeSize,o=e.nodeStroke,l=Object(i.useRef)(),d=Object(i.useState)(new h),u=Object(c.a)(d,2),m=u[0],v=u[1],p=Object(i.useState)(null),g=Object(c.a)(p,2),b=g[0],y=g[1],k=Object(i.useState)(null),N=Object(c.a)(k,2),E=N[0],x=N[1],w=Object(i.useState)(!1),z=Object(c.a)(w,2),S=z[0],j=z[1],C=Object(i.useState)(5),O=Object(c.a)(C,2),L=O[0],R=O[1],A=r*n+2*o,W=r*t+2*o,M=function(){j(!1),y(null),x(null);var e=l.current,i=new h(e,r,o,t,n);i.init(),v(i)},P=function(e,t,n){var i=t;return e.forEach((function(e){i++,setTimeout((function(){return e.fill(n)}),i*L)})),Promise.resolve(i)},T=function(e){var t=function(e){var t=e.startNode,n=e.endNode,i=[],a=[];t.h=f(t,n),i.push(t);for(var r=function(){for(var r=i[0],o=0,s=0;s<i.length;s++)i[s].f<=r.f&&i[s].h<r.h&&(r=i[s],o=s);if(i.splice(o,1),a.push(r),r===n)return{v:{path:function(e,t){for(var n=[],i=t;i!==e;)n.push(i),i=i.parent;return n.reverse()}(t,n),startNode:t,endNode:n,closedList:a,openList:i}};e.getAdjacentNodes(r).forEach((function(e){var t=a.find((function(t){return t===e}));if(e.walkable&&!t){var o=r.g+f(r,e),s=i.find((function(t){return t===e}));(o<e.g||!s)&&(e.g=o,e.h=f(e,n),e.parent=r,s||i.push(e))}}))};i.length>0;){var o=r();if("object"===typeof o)return o.v}}(e),n=t.path,i=t.openList,a=t.closedList,r=t.startNode,o=t.endNode,c=[].concat(Object(s.a)(i),Object(s.a)(a)).sort((function(e,t){return e.f<=t.f&&e.h<=t.h?1:-1}));P(c,0,"lightgreen").then((function(e){return P(n,e,"green")})).then((function(e){return Promise.all([P([r],e,"blue"),P([o],e,"red")])})).then((function(){return j(!0)}))};return Object(i.useEffect)((function(){M()}),[]),Object(i.useLayoutEffect)((function(){m.draw()}),[m]),a.a.createElement("div",{className:"grid-canvas"},a.a.createElement("div",{className:"grid-canvas-header"},a.a.createElement((function(){return b?E?S?a.a.createElement("p",null,"Drawing shortest path from\xa0",a.a.createElement("span",{style:{color:"blue",backgroundColor:"azure",padding:"0 0.2rem",borderRadius:"0.2rem"}},b)," to\xa0",a.a.createElement("span",{style:{color:"red",backgroundColor:"azure",padding:"0 0.2rem",borderRadius:"0.2rem"}},E),"\xa0",a.a.createElement("em",{style:{color:"lightgray",fontWeight:300}},"(Click anywhere to reset)")):a.a.createElement("p",null,"Click nodes to create/remove ",a.a.createElement("span",{style:{color:"black",backgroundColor:"azure",padding:"0 0.2rem",borderRadius:"0.2rem"}},"WALL")," obstacles."):a.a.createElement("p",null,"Click a node to set the ",a.a.createElement("span",{style:{color:"red",backgroundColor:"azure",padding:"0 0.2rem",borderRadius:"0.2rem"}},"END")," position."):a.a.createElement("p",null,"Click a node to set the ",a.a.createElement("span",{style:{color:"blue",backgroundColor:"azure",padding:"0 0.2rem",borderRadius:"0.2rem"}},"START")," position.")}),null)),a.a.createElement("canvas",{className:"grid",height:A,width:W,onClick:function(e){if(S)return M();var t=l.current,n=t.offsetLeft,i=t.offsetTop,a=e.pageX-n,r=e.pageY-i,o=m.gridNodes.find((function(e){return r>e.y&&r<e.y+e.size&&a>e.x&&a<e.x+e.size}));if(o){if(!m.startNode&&!m.endNode)return m.setStartNode(o),y(o.location());if(m.startNode&&!m.endNode)return m.setEndNode(o),x(o.location());if(m.startNode&&m.endNode)return o.setWalkable(!o.walkable)}return e.preventDefault()},ref:l}),a.a.createElement("div",{className:"grid-canvas-footer"},a.a.createElement("div",{className:"grid-canvas-labels"},a.a.createElement("div",{id:"start-node-label"},b?"Start Node: ".concat(b):"Start node is not set. Click a node to set it."),a.a.createElement("div",{id:"end-node-label"},E?"End Node: ".concat(E):"End node is not set. Click a node to set it.")),a.a.createElement("div",{className:"grid-canvas-speed"},a.a.createElement("p",null,"Animation speed:"),a.a.createElement("div",null,a.a.createElement("input",{type:"radio",id:"slow",name:"speed",onClick:function(){return R(25)}}),a.a.createElement("label",{for:"slow"},"Slow")),a.a.createElement("div",null,a.a.createElement("input",{type:"radio",id:"normal",name:"speed",checked:!0,onClick:function(){return R(5)}}),a.a.createElement("label",{for:"normal"},"Normal")),a.a.createElement("div",null,a.a.createElement("input",{type:"radio",id:"fast",name:"speed",onClick:function(){return R(1)}}),a.a.createElement("label",{for:"fast"},"Fast"))),a.a.createElement("div",{className:"grid-canvas-controls"},a.a.createElement("button",{id:"btn find-path",type:"button",onClick:function(){return T(m)}},"Find Path"),a.a.createElement("button",{id:"btn clear",type:"button",onClick:function(){return M()}},"Clear"))))};n(14);var v=function(){return a.a.createElement("div",{className:"app"},a.a.createElement("header",{className:"app-header"},a.a.createElement("p",null,"A* Search Algorithm")),a.a.createElement("div",{className:"grid-container"},a.a.createElement(m,{width:25,height:25,nodeSize:25,nodeStroke:2})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[7,1,2]]]);
//# sourceMappingURL=main.034f5361.chunk.js.map